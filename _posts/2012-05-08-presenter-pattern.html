---
layout: post
title: Presenter Pattern
tags:
- MVC
- pattern
- presenter
- Programming
- rails
- ruby
status: publish
type: post
published: true
comments: true
meta:
  _edit_last: '1'
  dsq_thread_id: '722253147'
  _wp_old_slug: presenter-patterns
---
I have to admit that I haven't had a chance to implement a presenter but I am very intrigued by it after reading Jay Field's <a href="http://blog.jayfields.com/2007/03/rails-presenter-pattern.html">excellent article from 2007</a>Â on it.
<br/><br/>
The presenter pattern strays from the Rails standard MVC framework. It creates a class representation of the view to simplify bloated controllers. Normally controllers (C) should present the data on the view (V) after pulling the data from the model (M). However, this can sometimes create overloaded controllers or even views that do some logic work that should belong in a controller or a model.
<br/><br/>
The presenter pattern offers an elegant solution to this by aggregating the data for the view:
<br/><br/>
From Jay Field's example (until I can add my own):
{% highlight ruby %}
class CompletePresenter < Presenter
 def_delegators :user_account, :name, :name=
 def_delegators :address, :line_1, :line_2, :city, :state, :zip_code, :line_1=, :line_2=, :city=, :state=, :zip_code=
 def_delegators :user_credentials, :username, :password, :username=, :password=
 def user_account
  @user_account ||= UserAccount.new
 end
 def address
  @address ||= Address.new
 end
 def user_credentials
  @credentials ||= UserCredential.new
 end
 def save
  user_account.save && address.save && user_credentials.save
 end
end
{% endhighlight %}
Thanks to this presenter, the controller becomes very light and simple:
{% highlight ruby %}
class OrderController < ApplicationController
 def complete
  @presenter = CompletePresenter.new(params[:presenter])
  redirect_to thank_you_url if request.post? && @presenter.save
 end
 def thank_you
 end
end
{% endhighlight %}
I'm sure I can find a use for this and can't wait to try it. I'll update this post when I do.
<br/><br/>
I highly recommend reading <a href="http://kpumuk.info/ruby-on-rails/simplifying-your-ruby-on-rails-code/">Dmytro Shteflyuk's article</a>. It also mentions cells plugins, just as interesting. Let me know what you think!